<div class="b-popup">
  <div class="b-popup__header_small">


    {{ containerViewCtrl.editingContainer.containerName }}'s snapshots
    <a href ng-click="closeThisDialog()">
      <img src="assets/elements/buttons/b-icon-close.svg" class="b-icon g-right"/>
    </a>
  </div>

  <form ng-submit="containerViewCtrl.addSnapshot(newSnapshot)" ng-init="newSnapshot.id=containerViewCtrl.editingContainer.id; newSnapshot.partition='all'">
    <div>
      <table>
        <tr>
          <td>
            <label class="b-popup-body-label">Snapshot name</label>
            <input type="text" ng-model="newSnapshot.label" ng-required="true" style="width:100px"/>
          </td>
          <td><button style="width:50px" class="b-btn b-btn_green g-right" type="submit">Add</button></td>
        </tr>
      </table>
    </div>
  </form>

  <div id="scrolltable">

    <table>
      <tr ng-repeat="(partition, snapshots) in containerViewCtrl.snapshots">
        <td>
          <ul ng-repeat="(idx, label) in snapshots">
            <table>
              <tr>
                <td>{{ label }}</td>
                <td>
                  <a href
                     class="b-icon b-icon_rollback"
                     tooltips
                     tooltip-template='Rollback partition to snapshot'
                     ng-click="containerViewCtrl.rollbackSnapshot( containerViewCtrl.editingContainer.id, 'all', label )">
                  </a>
                </td>
                <td>
                  <a href
                     class="b-icon b-icon_remove"
                     tooltips
                     tooltip-template='Remove snapshot'
                     ng-click="containerViewCtrl.removeSnapshot( containerViewCtrl.editingContainer.id, 'all', label )">
                  </a>
                </td>
              </tr>
            </table>
          </ul>
        </td>
      </tr>
    </table>
  </div>
</div>

