<div class="b-popup">
  <div class="b-popup__header_small">


    {{ containerViewCtrl.editingContainer.containerName }}'s snapshots
    <a href ng-click="closeThisDialog()">
      <img src="assets/elements/buttons/b-icon-close.svg" class="b-icon g-right"/>
    </a>
  </div>

  <form
      ng-init="newSnapshot.containerId=containerViewCtrl.editingContainer.id; newSnapshot.containerName=containerViewCtrl.editingContainer.containerName;newSnapshot.partition='all';">
    <div>
      <table style="margin: 5px;">
        <tr>
          <td style="padding-right:5px;padding-left:5px;">
            <label class="b-popup-body-label">Snapshot name</label>
            <input type="text" ng-model="newSnapshot.label" ng-required="true" style="width:100px"/>
          </td>
          <td>
            <button style="width:50px" class="b-btn b-btn_green g-right"
                    ng-click="containerViewCtrl.addSnapshot(newSnapshot); newSnapshot={}; newSnapshot.containerId=containerViewCtrl.editingContainer.id; newSnapshot.containerName=containerViewCtrl.editingContainer.containerName;newSnapshot.partition='all';">
              Add
            </button>
          </td>
        </tr>
      </table>
    </div>
  </form>

  <div id="scrolltable">

    <table>
      <tr>
        <td>Snapshot</td>
        <td>Created</td>
        <td>Rollback</td>
        <td>Remove</td>
      </tr>
      <tr ng-repeat="(idx, snapshot) in containerViewCtrl.snapshots">
        <td>{{ snapshot.label }}</td>
        <td>{{ snapshot.createdTime }}</td>
        <td>
          <a href
             class="b-icon b-icon_rollback"
             ng-click="containerViewCtrl.rollbackSnapshot( containerViewCtrl.editingContainer.id, snapshot )">
          </a>
        </td>
        <td>
          <a href
             class="b-icon b-icon_remove"
             ng-click="containerViewCtrl.removeSnapshot( containerViewCtrl.editingContainer.id, snapshot )">
          </a>
        </td>
      </tr>
    </table>
  </div>
</div>

